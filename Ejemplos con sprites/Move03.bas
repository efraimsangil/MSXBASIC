05 ' MOVE03.BAS
10 SCREEN 2
11 _TURBO ON
20 SPRITE$(1)=STRING$(8,CHR$(255))
30 DEFINT X,Y
40 X=130:Y=180:VO=0:VA=0:VB=0:VC=0:VD=0:X2=10:Y1=100:VC=0:VD=0:VE=0:VF=0:VG=0:VH=0:VI=0
50 'SPRITE ON: ON SPRITE GOSUB 180 'Si hay colision de sprites saltamos a la linea 180
60 S=STICK(0)
70 IF S=1 THEN Y=Y-3
80 IF S=2 THEN Y=Y-3:X=X+3
90 IF S=3 THEN X=X+3
100 IF S=4 THEN X=X+3:Y=Y+3
110 IF S=5 THEN Y=Y+3
120 IF S=6 THEN Y=Y+3:X=X-3
130 IF S=7 THEN X=X-3
140 IF S=8 THEN X=X-3:Y=Y-3
150 PUT SPRITE 0, (X,Y), 1, 1
160 GOSUB 370 ' Movimiento de los sprites autonomos
170 GOTO 60 'Movimiento del sprite del jugador
180 ' Desactivamos colision y recolocamos todos los sprites en pantalla
190 SPRITE OFF:X=0:Y=120:Y1=100:X1=10:X2=20:X3=30:X4=40:X5=60:X6=70:X7=80:X8=90:X9=100:XA=110:XB=120
200 PUT SPRITE 0, (X,Y), 1, 1
210 PUT SPRITE 1, (X1,20), 2, 1
220 PUT SPRITE 2, (X2,40), 3, 1
230 PUT SPRITE 3, (X3,60), 5, 1
240 'PUT SPRITE 4, (X4,60), 6, 1
250 PUT SPRITE 5, (X5,60), 7, 1
260 PUT SPRITE 6, (X6,60), 8, 1
270 PUT SPRITE 7, (X7,60), 9, 1
280 PUT SPRITE 8, (X8,60), 10, 1
290 PUT SPRITE 9, (X9,60), 11, 1
300 PUT SPRITE 10, (XA,60), 12, 1
310 PUT SPRITE 11, (XB,60), 13, 1
320 'PUT SPRITE 4, (X4,Y1), 9, 1 ' Sprite que nos persigue a muerte
330 SPRITE ON ' Activamos colision de sprites
340 RETURN 150 ' Volvemos a la línea 60
350 'Control del movimiento de los sprites 1 2 3
360 'Que no se salgan de la pantalla y reboten
370 IF X1 < 200 AND VO=0 THEN X1=X1+10 ELSE VO=1
380 IF X1 > 10 AND VO=1 THEN X1=X1-10 ELSE VO=0
390 IF X2 < 200 AND VA=0 THEN X2=X2+8 ELSE VA=1
400 IF X2 > 10 AND VA=1 THEN X2=X2-8 ELSE VA=0
410 IF X3 < 200 AND VB=0 THEN X3=X3+5 ELSE VB=1
420 IF X3 > 10 AND VB=1 THEN X3=X3-5 ELSE VB=0
430 IF X5 < 200 AND VC=0 THEN X5=X5+7 ELSE VC=1
440 IF X5 > 10 AND VC=1 THEN X5=X5-7 ELSE VC=0
450 IF X6 < 200 AND VD=0 THEN X6=X6+11 ELSE VD=1
460 IF X6 > 10 AND VD=1 THEN X6=X6-11 ELSE VD=0
470 IF X7 < 200 AND VE=0 THEN X7=X7+12 ELSE VE=1
480 IF X7 > 10 AND VE=1 THEN X7=X7-12 ELSE VE=0
490 IF X8 < 200 AND VF=0 THEN X8=X8+6 ELSE VF=1
500 IF X8 > 10 AND VF=1 THEN X8=X8-6 ELSE VF=0
501 IF X9 < 200 AND VG=0 THEN X9=X9+8 ELSE VG=1
502 IF X9 > 10 AND VG=1 THEN X9=X9-8 ELSE VG=0
503 IF XA < 200 AND VH=0 THEN XA=XA+4 ELSE VH=1
504 IF XA > 10 AND VH=1 THEN XA=XA-4 ELSE VH=0
510 'IF X4 >= X THEN X4=X4-1 ELSE X4=X4+1
520 'IF Y1 >= Y THEN Y1=Y1-1 ELSE Y1=Y1+1
530 PUT SPRITE 1, (X1,0), 2, 1
540 PUT SPRITE 2, (X2,15), 3, 1
550 PUT SPRITE 3, (XA,25), 5, 1
560 PUT SPRITE 4, (X5,35), 6, 1
570 PUT SPRITE 5, (X2,45), 7, 1
580 PUT SPRITE 6, (X6,55), 8, 1
590 'PUT SPRITE 7, (X4,60), 9, 1
600 PUT SPRITE 8, (X5,65), 10, 1
610 PUT SPRITE 9, (X6,75), 11, 1
620 PUT SPRITE 10, (X7,85), 12, 1
630 PUT SPRITE 11, (X8,100), 13, 1
640 PUT SPRITE 12, (X9,120), 11, 1
650 PUT SPRITE 13, (XA,140), 12, 1
660 'PUT SPRITE 14, (XB,130), 13, 1
670 'PUT SPRITE 4, (X4,Y1), 9, 1 ' Sprite que nos persigue a muerte
680 RETURN
